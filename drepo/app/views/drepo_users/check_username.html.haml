- @hide_breadcrumbs = true
- @hide_top_links = true
- page_title    _('Create Username')
- header_title  _("Create Username"), dashboard_groups_path

.page-title-holder.d-flex.align-items-center
  %h1.page-title= _('New username')
.row.prepend-top-default
  .col-lg-3.profile-settings-sidebar
    %p
      - group_docs_path = help_page_path('user/group/index')
      - group_docs_link_start = '<a href="%{url}" target="_blank" rel="noopener noreferrer">'.html_safe % { url: group_docs_path }
      = s_('%{group_docs_link_start}Groups%{group_docs_link_end} allow you to manage and collaborate across multiple projects. Members of a group have access to all of its projects.').html_safe % { group_docs_link_start: group_docs_link_start, group_docs_link_end: '</a>'.html_safe }
    %p
      - subgroup_docs_path = help_page_path('user/group/subgroups/index')
      - subgroup_docs_link_start = '<a href="%{url}" target="_blank" rel="noopener noreferrer">'.html_safe % { url: subgroup_docs_path }
      = s_('Groups can also be nested by creating %{subgroup_docs_link_start}subgroups%{subgroup_docs_link_end}.').html_safe % { subgroup_docs_link_start: subgroup_docs_link_start, subgroup_docs_link_end: '</a>'.html_safe }
    %p
      = _('Projects that belong to a group are prefixed with the group namespace. Existing projects may be moved into a group.')

  .col-lg-9
    = form_for @user, as: :drepo_users, url: :drepo_username_verified, method: :patch, html: { class: 'group-form gl-show-field-errors' } do |f|
      = form_errors(@user)
      .row
        .form-group.group-name-holder.col-sm-12
          = f.label :username, class: 'label-bold' do
            = _("Pick a username")
          = f.text_field :username, placeholder: 'My Awesome Username', class: 'form-control input-lg',
            required: true,
            title: _('Please fill in an available username.'),
            autofocus: true

      .form-actions
        = f.submit 'Submit', class: "btn btn-success"
